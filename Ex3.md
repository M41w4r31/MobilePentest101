# Ejercicio 3: Insecure Access Controls

Este ejercicio se enfoca en comprender los riesgos asociados con los controles de acceso no seguros en aplicaciones Android.

## Pasos para Realizar el Ejercicio:

1. **Selecciona el Ejercicio "Insecure Access Controls Part 3":**
   - Dentro de la aplicación, elige el ejercicio etiquetado como "Insecure Access Controls Part 3".

2. **Ingresa un PIN Aleatorio en la Pantalla:**
   - Proporciona un PIN aleatorio en la pantalla de ingreso. Por ejemplo, puedes usar el PIN "1111".

3. **Ingresa el PIN y Visualiza las Notas en Texto Plano:**
   - En este ejercicio, la funcionalidad de la aplicación de notas requiere que ingreses un PIN. Si el PIN es correcto, te permite ver el contenido de las notas en texto plano. De lo contrario, no te permite el acceso. Investigaremos cómo saltar este control de seguridad.

4. **Descompila la Aplicación con Apktool:**
   - Utiliza la herramienta apktool para descompilar la aplicación:
     ```
     apktool d app.apk
     ```

5. **Lee el Archivo AndroidManifest.xml e Identifica el Content Provider:**
   - Examina el archivo AndroidManifest.xml y encuentra el Content Provider. Por ejemplo: `jakhar.aseem.diva.provider.notesprovider`.
   - Observa los atributos `android:enabled="true"`, que indica que el Content Provider está activo y puede utilizarse, y `android:exported="true"`, que indica que el Content Provider puede ser utilizado por otras aplicaciones o herramientas.

6. **Realiza una Consulta al Content Provider:**
   - Utiliza el siguiente comando para ver el contenido del Content Provider:
     ```
     adb shell content query --uri content://jakhar.aseem.diva.provider.notesprovider/
     ```
   - El error en este paso indica que necesitamos el path completo del content provider asi que habra que enumerar la aplicación para hacer la consulta al Content Provider.

7. **Analiza el Código Smali:**
   - Examina el código smali, que es el código de la aplicación sin ofuscar.

8. **Identifica el Código Relacionado al Content Provider:**
   - Ve al directorio `DivaApplication/smali/jakhar/aseem/diva/` y busca el código relacionado con el Content Provider.

9. **Ejecuta nuevamente el Comando adb con el Path Completo del Content Provider:**
   - Utiliza el siguiente comando para realizar la consulta al Content Provider con el path completo:
     ```
     adb shell content query --uri content://jakhar.aseem.diva.provider.notesprovider/PATH
     ```

10. **Observa las Notas en Texto Plano sin Necesidad del PIN:**
    - Identifica que las notas se pueden ver en texto plano sin necesidad de ingresar el PIN.

## Nota:
   - Los controles de acceso no seguros pueden permitir el acceso no autorizado a funciones o datos sensibles dentro de las aplicaciones.
   - Es crucial que los desarrolladores implementen controles de acceso robustos y seguros para proteger la confidencialidad de los datos del usuario.
